<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <style>
    body {
      background: #fafafa;
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }
    #demo {
      position: relative;
      width: 100%;
      height: 100vh; /* Asegura el contenedor con una altura definida */
    }
  </style>
</head>
<body>
  <div id="demo"></div>

  <script type="module">
    import '../christmas-tree.js';

    const numTrees = 20;
    const container = document.getElementById('demo');
    const screenHeight = container.offsetHeight; // Altura total del contenedor
    const colors = ['green', 'blue', 'red', 'gold', 'silver', 'purple', 'cyan']; // Lista de colores principales

    for (let christmasTreeCounter = 0; christmasTreeCounter < numTrees; christmasTreeCounter += 1) {
      const tree = document.createElement('christmas-tree');

      let topPosition;
      if (christmasTreeCounter < numTrees / 3) {
        topPosition = Math.random() * (screenHeight * 0.3) + screenHeight * 0.7; // Entre 70% y 100% de la pantalla
      } else if (christmasTreeCounter < (2 * numTrees) / 3) {
        topPosition = Math.random() * (screenHeight * 0.2) + screenHeight * 0.4; // Entre 40% y 60%
      } else {
        topPosition = Math.random() * (screenHeight * 0.3); // Entre 0% y 30%
      }

      const treeSize = `${parseInt(30 + (topPosition * topPosition) / screenHeight * 0.2, 10)}px`;
      const zIndex = parseInt(topPosition, 10);
      const leftPosition = Math.random() * container.offsetWidth;
      const randomColor1 = colors[Math.floor(Math.random() * colors.length)];
      const randomColor2 = colors[Math.floor(Math.random() * colors.length)];
      const blinkingTime1 = Math.random() * 2 + 1;
      const blinkingTime2 = Math.random() * 2 + 1;

      tree.id = `tree-${christmasTreeCounter}`;
      tree.style.position = 'absolute';
      tree.style.top = `${topPosition}px`;
      tree.style.left = `${leftPosition}px`;
      tree.style.zIndex = zIndex;
      tree.setAttribute('tree-size', treeSize);
      tree.setAttribute('light1-color', randomColor1);
      tree.setAttribute('light2-color', randomColor2);
      tree.setAttribute('blinking-time1', blinkingTime1);
      tree.setAttribute('blinking-time2', blinkingTime2);

      container.appendChild(tree);
    }
  </script>
</body>
</html>
